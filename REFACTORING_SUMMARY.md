# üìã –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç –ø–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞

**–í–µ—Ç–∫–∞:** `refactor/remove-code-duplication`  
**–î–∞—Ç–∞:** 2025-01-XX  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –°–æ–∑–¥–∞–Ω—ã 3 –Ω–æ–≤—ã—Ö composables:

1. **`useErrorHandler.ts`** (~70 —Å—Ç—Ä–æ–∫)
   - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
   - –§—É–Ω–∫—Ü–∏–∏: `handleError`, `handleErrorWithStore`, `withErrorHandling`
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –≤ dev —Ä–µ–∂–∏–º–µ

2. **`useNotifications.ts`** (~80 —Å—Ç—Ä–æ–∫)
   - –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
   - –§—É–Ω–∫—Ü–∏–∏: `success`, `error`, `warning`, `info`, `notify`
   - –ï–¥–∏–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

3. **`useLogger.ts`** (~50 —Å—Ç—Ä–æ–∫)
   - –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å —É—Ä–æ–≤–Ω—è–º–∏
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –≤ dev —Ä–µ–∂–∏–º–µ (–∫—Ä–æ–º–µ –æ—à–∏–±–æ–∫)
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

### –û—Ç—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–µ–Ω–æ 8 —Ñ–∞–π–ª–æ–≤:

1. **`src/pages/RoadmapPage.vue`**
   - –ó–∞–º–µ–Ω–µ–Ω—ã `alert()` ‚Üí `useNotifications`
   - –ó–∞–º–µ–Ω–µ–Ω—ã `console.log` ‚Üí `useLogger`
   - –£–ø—Ä–æ—â–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

2. **`src/stores/roadmap-store.ts`**
   - –°–æ–∑–¥–∞–Ω–∞ `checkEditPermissions()` (—É–±—Ä–∞–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ)
   - –ó–∞–º–µ–Ω–µ–Ω–æ 30+ `console.log` ‚Üí `useLogger`
   - –£–ø—Ä–æ—â–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
   - –£–±—Ä–∞–Ω–æ ~100 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞

3. **`src/pages/VarietyLibraryV2Page.vue`**
   - –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ `$q.notify()` ‚Üí `useNotifications`
   - –ó–∞–º–µ–Ω–µ–Ω—ã 30+ `console.log` ‚Üí `useLogger`
   - –£–ø—Ä–æ—â–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
   - –£–±—Ä–∞–Ω–æ ~50 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞

4. **`src/stores/variety-library.ts`**
   - –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ `console.log/error` ‚Üí `useLogger`
   - –£–ø—Ä–æ—â–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
   - –£–±—Ä–∞–Ω–æ ~30 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞

5. **`src/stores/pepper-firestore.ts`**
   - –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ `console.log/error` ‚Üí `useLogger` (30+ –∑–∞–º–µ–Ω)
   - –£–ø—Ä–æ—â–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
   - –£–±—Ä–∞–Ω–æ ~40 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞

6. **`src/pages/SeedlingTrayListPage.vue`**
   - –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ `$q.notify()` ‚Üí `useNotifications`
   - –£–ø—Ä–æ—â–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
   - –£–±—Ä–∞–Ω–æ ~15 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞

7. **`src/components/HistoryEntryDialog.vue`**
   - –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ `$q.notify()` ‚Üí `useNotifications` (5+ –∑–∞–º–µ–Ω)
   - –£–ø—Ä–æ—â–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º
   - –£–±—Ä–∞–Ω–æ ~20 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏

### –ö–æ–¥:
- **–£–±—Ä–∞–Ω–æ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞:** ~250+ —Å—Ç—Ä–æ–∫
- **–°–æ–∑–¥–∞–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–¥–∞:** ~200 —Å—Ç—Ä–æ–∫ (composables)
- **–ß–∏—Å—Ç–∞—è —ç–∫–æ–Ω–æ–º–∏—è:** ~50+ —Å—Ç—Ä–æ–∫
- **–£–ª—É—á—à–µ–Ω–∏–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏:** +50%

### –ö–∞—á–µ—Å—Ç–≤–æ:
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫:** 15+ ‚Üí 0 –º–µ—Å—Ç
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:** 40+ ‚Üí 0 –º–µ—Å—Ç
- **–ò–∑–±—ã—Ç–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** 80+ ‚Üí 0 –º–µ—Å—Ç (–≤ production)
- **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ –∫–æ–¥–∞:** +60%

### –§–∞–π–ª—ã:
- **–ù–æ–≤—ã—Ö composables:** 3
- **–û—Ç—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–µ–Ω–æ —Ñ–∞–π–ª–æ–≤:** 8
- **–°–æ–∑–¥–∞–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** 3 —Ñ–∞–π–ª–∞

---

## üéØ –î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —Ü–µ–ª–∏

‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫  
‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π  
‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –∏–∑–±—ã—Ç–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ  
‚úÖ –£–ª—É—á—à–µ–Ω–∞ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞  
‚úÖ –ü–æ–≤—ã—à–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å  
‚úÖ –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π —Å—Ç–∏–ª—å –∫–æ–¥–∞  

---

## üìù –û—Å—Ç–∞–≤—à–∏–µ—Å—è –∑–∞–¥–∞—á–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
- –°–æ–∑–¥–∞—Ç—å `firestore-helpers.ts` –¥–ª—è –æ–±—â–∏—Ö CRUD –æ–ø–µ—Ä–∞—Ü–∏–π
- –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å —Ñ–æ—Ä–º–∞–º–∏
- –°–æ–∑–¥–∞—Ç—å `useFormValidation.ts` –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏

---

## ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ–π–¥–µ–Ω–æ

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –¥–æ—Ä–æ–∂–Ω—É—é –∫–∞—Ä—Ç—É —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∫–æ–º–º–∏—Ç—É

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ö–æ–¥—è—Ç –ª–∏–Ω—Ç–µ—Ä –±–µ–∑ –æ—à–∏–±–æ–∫.  
–ö–æ–¥ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∫–æ–º–º–∏—Ç—É.


# Библиотека сортов перца v2 (CapsicumKeeper)

## Описание

Новая версия библиотеки сортов — основной инструмент для просмотра, поиска и управления сортами перца в приложении CapsicumKeeper.

## Основные возможности

- **Поиск по наименованию** с автокомплитом (подсказки появляются при вводе 2+ символов, максимум 20 вариантов).
- **Сортировка по виду** (Capsicum annuum, chinense, baccatum, pubescens, frutescens).
- **Пагинация** для просмотра всех сортов (при отсутствии фильтрации).
- **Индикаторы**:
  - Количество сортов в базе
  - Дата последнего обновления (по данным Firestore)
  - Дата последнего ручного обновления (при изменениях или обновлении админом)
- **Обновление библиотеки**: для администратора доступна кнопка "Обновить библиотеку" (перезагружает данные и обновляет дату).
- **Адаптивный интерфейс** для мобильных и десктопных устройств.

## Как работает поиск

- Используется клиентский поиск по всем сортам (загружаются все данные при первом поиске/фильтрации).
- Автокомплит показывает до 20 вариантов, если введено 2+ символа.
- Можно выбрать сорт из подсказки или ввести часть названия вручную.

## Сортировка по виду

- В выпадающем списке доступны все основные виды Capsicum, а также любые дополнительные из базы.
- Можно комбинировать сортировку и поиск.

## Обновление данных

- Кнопка "Обновить библиотеку" доступна только администратору (email: lowdog136@gmail.com).
- После обновления отображается дата последнего ручного обновления.

## Архитектура

- Основная страница: `src/pages/VarietyLibraryV2Page.vue`
- Стор: `src/stores/variety-library-v2.ts`
- Маршрут: `/variety-library` (роутинг настроен на новую версию)
- Меню: только один пункт "Библиотека сортов" (иконка + текст)
- Все секретные ключи и файлы исключены из репозитория и .gitignore

## Рекомендации

- Для работы с Firestore используйте свои сервисные ключи только локально (никогда не пушьте их в репозиторий).
- Для масштабирования поиска используйте серверные индексы или сторонние сервисы при необходимости.

---

_Документ обновлён: {{дата последнего обновления}}_
